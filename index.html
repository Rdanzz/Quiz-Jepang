<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Quiz Kosakata Bahasa Jepang — Materi 1–7</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Hitam putih sederhana */
    :root{--bg:#0b0b0b;--muted:#bdbdbd;--card:#101010;--accent:#ffffff}
    html,body{background:var(--bg);color:var(--accent)}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));}
    .mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace}
  </style>
</head>
<body class="min-h-screen p-6">
  <div class="max-w-4xl mx-auto">
    <header class="mb-6 flex items-center justify-between">
      <h1 class="text-2xl font-semibold">Quiz Kosakata Bahasa Jepang</h1>
    </header>

    <section class="card p-4 rounded-2xl shadow-md mb-6">
      <h2 class="text-lg font-medium mb-2">Pilih Materi</h2>
      <div class="grid grid-cols-2 gap-3 md:grid-cols-5">
        <button class="select-materi py-2 px-3 rounded-lg border border-white/10 mono" data-materi="m1">Materi 1-2</button>
        <button class="select-materi py-2 px-3 rounded-lg border border-white/10 mono" data-materi="m2">Materi 3-4</button>
        <button class="select-materi py-2 px-3 rounded-lg border border-white/10 mono" data-materi="m3">Materi 5</button>
        <button class="select-materi py-2 px-3 rounded-lg border border-white/10 mono" data-materi="m4">Materi 6</button>
        <button class="select-materi py-2 px-3 rounded-lg border border-white/10 mono" data-materi="m5">Materi 7</button>
      </div>

      <div class="mt-4 text-sm text-gray-400">Catatan: soal akan memunculkan <span class="font-medium">romaji</span> sebagai pertanyaan. Jawab dengan <span class="font-medium">arti (Bahasa Indonesia)</span>. Contoh: <em>ohayou gozaimasu</em> → "selamat pagi".</div>
    </section>

    <main class="card p-4 rounded-2xl shadow-md">
      <div id="meta" class="mb-4">
        <div class="flex items-center justify-between">
          <div>
            <div class="text-sm text-gray-400">Materi terpilih:</div>
            <div id="materiName" class="text-lg font-semibold">—</div>
          </div>
          <div class="text-right">
            <div class="text-sm text-gray-400">Soal total</div>
            <div id="totalCount" class="text-lg font-medium">0</div>
          </div>
        </div>
      </div>

      <div id="quizArea" class="hidden">
        <div id="questionCard" class="p-4 bg-black/40 rounded-lg mb-4">
          <div class="text-sm text-gray-400">Soal <span id="currentIndex">0</span> / <span id="totalCount2">0</span></div>
          <div id="romajiQ" class="text-2xl font-bold mt-2 mono">—</div>
          <div id="hint" class="text-xs text-gray-500 mt-1">(Tulis arti dalam bahasa Indonesia, singkat saja)</div>
        </div>

        <div class="flex gap-3">
          <input id="answerInput" class="flex-1 p-3 rounded-lg bg-black/30 border border-white/10" placeholder="Ketik arti (contoh: selamat pagi)" />
          <button id="submitBtn" class="px-4 py-3 rounded-lg border border-white/10">Kirim</button>
        </div>

        <div class="mt-3 flex gap-3">
          <button id="skipBtn" class="text-sm px-3 py-2 border rounded-lg">Lewati</button>
          <button id="endBtn" class="text-sm px-3 py-2 border rounded-lg">Selesai & Tampilkan Skor</button>
        </div>

        <div id="feedback" class="mt-3 text-sm"></div>
      </div>

      <div id="startArea" class="text-center py-8">
        <div class="text-gray-400 mb-4">Pilih materi, lalu tekan tombol mulai untuk memulai quiz berisi semua kosakata dari materi tersebut.</div>
        <button id="startBtn" class="px-6 py-3 rounded-lg border border-white/10">Mulai Quiz</button>
      </div>

      <div id="resultArea" class="hidden mt-4 p-4 border rounded-lg bg-black/30">
        <h3 class="text-xl font-semibold mb-2">Hasil Quiz</h3>
        <div id="scoreText" class="text-lg"></div>
        <div id="detailList" class="mt-3 text-sm max-h-64 overflow-auto"></div>
        <div class="mt-4 flex gap-3">
          <button id="retryBtn" class="px-4 py-2 border rounded-lg">Ulangi Materi Ini</button>
          <button id="backBtn" class="px-4 py-2 border rounded-lg">Kembali Pilih Materi</button>
        </div>
      </div>

    </main>

    <footer class="mt-6 text-xs text-gray-500">Made simple — Zidhan Raffly</footer>
  </div>

  <script>
    // ======= DATA KOSAKATA (Romaji + Arti) =======
    const DB = {
      m1: {
        name: 'Materi 1-2 (Salam & Perkenalan)',
        words: [
          ['sensei','Pengajar / guru'],
          ['san','Akhiran panggilan (netral/sopan)'],
          ['chan','Akhiran panggilan (kasual, anak/teman)'],
          ['kun','Akhiran panggilan (laki-laki/casual)'],
          ['ohayou gozaimasu','Selamat pagi'],
          ['konnichiwa','Selamat siang / halo'],
          ['konbanwa','Selamat malam (salam datang)'],
          ['oyasuminasai','Selamat tidur'],
          ['sayounara','Selamat tinggal'],
          ['jaa ne','Sampai jumpa (kasual)'],
          ['mata ne','Sampai nanti'],
          ['hajimemashite','Salam kenal'],
          ['dewa mata','Sampai ketemu lagi (lebih formal)'],
          ['mata ashita','Sampai besok'],
          ['mata raishuu','Sampai minggu depan'],
          ['ittekimasu','Saya pergi dulu'],
          ['itterasshai','Hati-hati di jalan (jawaban)'],
          ['tadaima','Saya pulang'],
          ['okaerinasai','Selamat datang kembali'],
          ['yoroshiku onegaishimasu','Mohon kerjasamanya / salam kenal'],
          ['gomen nasai','Maaf (lebih sopan)'],
          ['sumimasen','Permisi / maaf'],
          ['shitsurei shimasu','Permisi / maaf mengganggu (formal)'],
          ['otsukaresama deshita','Terima kasih atas kerja kerasmu'],
          ['doumo arigatou gozaimasu','Terima kasih banyak'],
          ['iie','Tidak / Sama-sama (bila menjawab terima kasih)'],
          ['watashi','Saya'],
          ['watashitachi','Kita / kami'],
          ['anata','Anda / kamu'],
          ['anatatachi','Kalian / Anda sekalian'],
          ['kare','Dia (laki-laki)'],
          ['kanojo','Dia (perempuan)'],
          ['minasan','Semua / hadirin'],
          ['hito','Orang'],
          ['otona','Dewasa'],
          ['kodomo','Anak'],
          ['tomodachi','Teman'],
          ['kazoku','Keluarga'],
          ['chichi','Ayah (kata sendiri)'],
          ['haha','Ibu (kata sendiri)'],
          ['ani','Kakak laki-laki (kata sendiri)'],
          ['ane','Kakak perempuan (kata sendiri)'],
          ['otooto','Adik laki-laki'],
          ['imooto','Adik perempuan'],
          ['ojisan','Paman'],
          ['obasan','Bibi / tante']
        ]
      },

      m2: {
        name: 'Materi 3-4 (Negara, Profesi, Tata Bahasa Dasar)',
        words: [
          ['hai','Ya / benar'],
          ['iie','Tidak'],
          ['jin','~orang (sufiks kebangsaan)'],
          ['go','Bahasa ~'],
          ['oranda','Belanda'],
          ['ooroppa','Eropa'],
          ['nihon','Jepang'],
          ['indonesia','Indonesia'],
          ['furansu','Prancis'],
          ['doitsu','Jerman'],
          ['oosutoraria','Australia'],
          ['roshia','Rusia'],
          ['chuugoku','Tiongkok / Cina'],
          ['kankoku','Korea Selatan'],
          ['tai','Thailand'],
          ['firipin','Filipina'],
          ['mareshia','Malaysia'],
          ['betonamu','Vietnam'],
          ['indo','India'],
          ['sauji arabia','Arab Saudi'],
          ['toruko','Turki'],
          ['ejiputo','Mesir'],
          ['mekishiko','Meksiko'],
          ['shingapooru','Singapura'],
          ['buraziru','Brazil'],
          ['anohito','Orang itu'],
          ['anokata','Orang itu (lebih sopan)'],
          ['dare','Siapa'],
          ['donata','Siapa (sopan)'],
          ['konpyuutaa','Komputer'],
          ['pasokon','Laptop / komputer pribadi'],
          ['keitaidenwa','Telepon genggam'],
          ['purintaa','Printer'],
          ['kopiuki','Mesin fotokopi'],
          ['keisanki','Kalkulator'],
          ['tsukue','Meja'],
          ['isu','Kursi'],
          ['kyoushi','Pengajar / guru / dosen'],
          ['puroguramaa','Programmer'],
          ['web dezainaa','Web designer'],
          ['enjinia','Engineer / insinyur'],
          ['sofutowea enjinia','Software engineer'],
          ['kaishain','Pegawai kantor'],
          ['koumuin','Pegawai negeri'],
          ['isha','Dokter'],
          ['kangoshi','Perawat'],
          ['keisatsukan','Polisi']
        ]
      },

      m3: {
        name: 'Materi 5 (Wilayah, Hewan, Buah, Makanan)',
        words: [
          ['hokkaidou','Hokkaido (prefektur)'],
          ['touhoku','Tōhoku (wilayah utara)'],
          ['toukyou','Tokyo'],
          ['kanagawa','Kanagawa'],
          ['saitama','Saitama'],
          ['chiba','Chiba'],
          ['niigata','Niigata'],
          ['shizuoka','Shizuoka'],
          ['aichi','Aichi'],
          ['kyouto','Kyoto'],
          ['oosaka','Osaka'],
          ['fukuoka','Fukuoka'],
          ['okinawa','Okinawa'],

          ['inu','Anjing'],
          ['neko','Kucing'],
          ['tori','Burung'],
          ['uma','Kuda'],
          ['buta','Babi'],
          ['ushi','Sapi'],
          ['niwatori','Ayam / unggas'],
          ['zou','Gajah'],
          ['sakana','Ikan'],
          ['mushi','Serangga'],
          ['panda','Panda'],
          ['usagi','Kelinci'],
          ['tora','Harimau'],
          ['nezumi','Tikus'],

          ['ringo','Apel'],
          ['mikan','Jeruk'],
          ['ichigo','Stroberi'],
          ['budou','Anggur'],
          ['suika','Semangka'],
          ['sakura nbo','Buah ceri'],
          ['momo','Persik'],
          ['kaki','Kesemek'],
          ['remon','Lemon'],
          ['meron','Melon'],
          ['banana','Pisang'],
          ['painappuru','Nanas'],

          ['tabemono','Makanan'],
          ['ryouri','Masakan'],
          ['gohan','Nasi'],
          ['bentou','Bekal (kotak makanan)'],
          ['asagohan','Sarapan'],
          ['hirugohan','Makan siang'],
          ['bangohan','Makan malam'],
          ['sushi','Sushi'],
          ['sashimi','Sashimi'],
          ['raamen','Ramen'],
          ['udon','Udon'],
          ['soba','Soba'],
          ['miso shiru','Sup miso']
        ]
      },

      m4: {
        name: 'Materi 6 (Kosoado & Tempat / Benda)',
        words: [
          ['kore','Ini (benda dekat pembicara)'],
          ['sore','Itu (dekat lawan bicara)'],
          ['are','Itu (jauh)'],
          ['dore','Yang mana?'],
          ['koko','Di sini'],
          ['soko','Di situ'],
          ['asoko','Di sana'],
          ['doko','Di mana?'],
          ['kochira','Sini / sebelah sini (sopan)'],
          ['sochira','Situ / sebelah situ (sopan)'],
          ['achira','Sana / sebelah sana (sopan)'],

          ['mono','Barang'],
          ['kutsu','Sepatu'],
          ['kaado','Kartu'],
          ['meishi','Kartu nama'],
          ['tabako','Rokok'],
          ['enpitsu','Pensil'],
          ['pen','Pulpen'],
          ['hon','Buku'],
          ['jisho','Kamus'],
          ['zasshi','Majalah'],
          ['shinbun','Koran'],
          ['nooto','Buku catatan'],

          ['gakkou','Sekolah'],
          ['daigaku','Universitas'],
          ['koukou','SMA'],
          ['chuugakkou','SMP'],
          ['shougakkou','SD'],
          ['youchien','TK'],
          ['kyoushitsu','Ruang kelas'],
          ['shokudou','Kantin'],
          ['toire','Toilet'],
          ['eki','Stasiun']
        ]
      },

      m5: {
        name: 'Materi 7 (Alat Tulis, Rumah, Tubuh, Toko)',
        words: [
          ['bunbougu','Alat tulis / stationery'],
          ['enpitsukezuri','Rautan pensil'],
          ['keshigomu','Penghapus'],
          ['jougi','Penggaris'],
          ['hasami','Gunting'],
          ['fude','Kuas / kuas tinta'],
          ['kataa','Cutter / pisau kecil'],
          ['fairu','Map / file'],
          ['teepu','Selotip umum'],
          ['nori','Lem'],
          ['hocchikisu','Stapler'],

          ['denki','Listrik / lampu'],
          ['kagi','Kunci'],
          ['kasa','Payung'],
          ['doa','Pintu'],
          ['mado','Jendela'],
          ['genkan','Pintu masuk rumah'],
          ['kutsu','Sepatu'],

          ['karada','Tubuh'],
          ['atama','Kepala'],
          ['me','Mata'],
          ['mimi','Telinga'],
          ['hana','Hidung'],
          ['kuchi','Mulut'],
          ['ha','Gigi'],
          ['ude','Lengan'],
          ['ashi','Kaki'],

          ['mise','Toko'],
          ['panya','Toko roti'],
          ['nikuya','Toko daging'],
          ['sakanaya','Toko ikan'],
          ['yaoya','Toko sayur'],
          ['kafe','Kafe / coffee shop'],
          ['sushiya','Restoran sushi']
        ]
      }
    };

    // ====== LOGIC QUIZ ======
    let currentList = [];
    let currentIdx = 0;
    let correct = 0;
    let wrong = 0;
    let detail = [];

    const materiNameEl = document.getElementById('materiName');
    const totalCountEl = document.getElementById('totalCount');
    const totalCount2El = document.getElementById('totalCount2');
    const currentIndexEl = document.getElementById('currentIndex');
    const romajiQEl = document.getElementById('romajiQ');
    const answerInput = document.getElementById('answerInput');
    const feedback = document.getElementById('feedback');

    document.querySelectorAll('.select-materi').forEach(btn=>{
      btn.addEventListener('click',()=>{
        document.querySelectorAll('.select-materi').forEach(b=>b.classList.remove('ring','ring-white/20'));
        btn.classList.add('ring','ring-white/20');
        const key = btn.dataset.materi;
        const data = DB[key];
        if(!data) return;
        materiNameEl.textContent = data.name;
        totalCountEl.textContent = data.words.length;
        totalCount2El.textContent = data.words.length;
        // store selected in window for start
        window._selected = key;
      });
    });

    document.getElementById('startBtn').addEventListener('click',()=>{
      const key = window._selected;
      if(!key){ alert('Pilih materi dulu bos.'); return; }
      startQuizFor(key);
    });

    function startQuizFor(key){
      const data = DB[key];
      currentList = data.words.map(w=>({romaji:w[0],answer:w[1]}));
      // shuffle
      currentList = currentList.sort(()=>Math.random()-0.5);
      currentIdx = 0; correct=0; wrong=0; detail=[];
      document.getElementById('startArea').classList.add('hidden');
      document.getElementById('quizArea').classList.remove('hidden');
      document.getElementById('resultArea').classList.add('hidden');
      updateQuestion();
    }

    function updateQuestion(){
      if(currentIdx >= currentList.length){
        finishQuiz(); return;
      }
      const q = currentList[currentIdx];
      currentIndexEl.textContent = currentIdx+1;
      romajiQEl.textContent = q.romaji;
      answerInput.value=''; answerInput.focus();
      feedback.textContent='';
      totalCountEl.textContent = currentList.length;
      totalCount2El.textContent = currentList.length;
    }

    document.getElementById('submitBtn').addEventListener('click',submitAnswer);
    answerInput.addEventListener('keydown',e=>{ if(e.key==='Enter') submitAnswer(); });

    function normalizeText(s){ return String(s||'').trim().toLowerCase(); }

    function submitAnswer(){
      const user = normalizeText(answerInput.value);
      if(user===''){ feedback.textContent='Isi jawaban dulu (atau tekan Lewati).'; return; }
      const q = currentList[currentIdx];
      const correctAnswer = normalizeText(q.answer);
      // simple check: accept if user's answer contains main word(s) OR exact match
      const ok = correctAnswer.split(/[ ,\/()]+/).some(token=> token && user.includes(token));
      if(ok){ correct++; feedback.innerHTML = '<span class="text-green-400">Benar!</span> → '+q.answer; detail.push({q:q.romaji, a:q.answer, your:answerInput.value, ok:true}); }
      else{ wrong++; feedback.innerHTML = '<span class="text-red-400">Salah</span> → Jawaban benar: '+q.answer; detail.push({q:q.romaji, a:q.answer, your:answerInput.value, ok:false}); }
      currentIdx++; setTimeout(updateQuestion, 600);
    }

    document.getElementById('skipBtn').addEventListener('click',()=>{
      const q=currentList[currentIdx];
      wrong++; detail.push({q:q.romaji,a:q.answer,your:'(DILEWAT)',ok:false});
      currentIdx++; updateQuestion();
    });

    document.getElementById('endBtn').addEventListener('click',finishQuiz);

    function finishQuiz(){
      document.getElementById('quizArea').classList.add('hidden');
      const total = currentList.length;
      document.getElementById('resultArea').classList.remove('hidden');
      const scoreText = document.getElementById('scoreText');
      scoreText.textContent = `Benar: ${correct} • Salah: ${wrong} • Total: ${total}`;
      const dl = document.getElementById('detailList');
      dl.innerHTML = '';
      detail.forEach((d,i)=>{
        const el = document.createElement('div');
        el.className='p-2 border-b border-white/5';
        el.innerHTML = `<div class="font-medium">${i+1}. ${d.q}</div><div class="text-xs text-gray-400">Jawaban anda: ${escapeHtml(d.your)} — ${d.ok?'<span class="text-green-400">Benar</span>':'<span class="text-red-400">Salah</span>'}</div><div class="text-xs">Jawaban benar: ${escapeHtml(d.a)}</div>`;
        dl.appendChild(el);
      });
    }

    document.getElementById('retryBtn').addEventListener('click',()=>{
      const key = window._selected; startQuizFor(key);
    });
    document.getElementById('backBtn').addEventListener('click',()=>{
      document.getElementById('resultArea').classList.add('hidden');
      document.getElementById('startArea').classList.remove('hidden');
      document.getElementById('materiName').textContent='—';
      document.getElementById('totalCount').textContent='0';
      document.querySelectorAll('.select-materi').forEach(b=>b.classList.remove('ring'));
    });

    function escapeHtml(s){ return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }

    // small UX: allow selecting first button by default
    // document.querySelector('.select-materi').click();
  </script>
</body>
</html>
